2025-06-17 11:17:21,915 ERROR org.springframework.boot.SpringApplication [main] Application run failed
java.lang.IllegalStateException: java.lang.IllegalStateException: Logback configuration error detected: 
ERROR in ch.qos.logback.classic.pattern.ClassOfCallerConverter@1afdd473 - failed to parse integer string [1.] java.lang.NumberFormatException: For input string: "1."
	at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:347)
	at org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:298)
	at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:246)
	at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:223)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:138)
	at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)
	at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)
	at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:353)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:313)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.shazam.teebay.TeebayApplication.main(TeebayApplication.java:10)
Caused by: java.lang.IllegalStateException: Logback configuration error detected: 
ERROR in ch.qos.logback.classic.pattern.ClassOfCallerConverter@1afdd473 - failed to parse integer string [1.] java.lang.NumberFormatException: For input string: "1."
	at org.springframework.boot.logging.logback.LogbackLoggingSystem.reportConfigurationErrorsIfNecessary(LogbackLoggingSystem.java:289)
	at org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:267)
	at org.springframework.boot.logging.AbstractLoggingSystem.initializeWithConventions(AbstractLoggingSystem.java:81)
	at org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:61)
	at org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:195)
	at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:332)
	... 19 common frames omitted
	Suppressed: java.lang.NumberFormatException: For input string: "1."
		at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
		at java.base/java.lang.Integer.parseInt(Integer.java:661)
		at java.base/java.lang.Integer.parseInt(Integer.java:777)
		at ch.qos.logback.classic.pattern.NamedConverter.start(NamedConverter.java:92)
		at ch.qos.logback.core.pattern.ConverterUtil.startConverters(ConverterUtil.java:37)
		at ch.qos.logback.core.pattern.PatternLayoutBase.start(PatternLayoutBase.java:148)
		at ch.qos.logback.classic.encoder.PatternLayoutEncoder.start(PatternLayoutEncoder.java:28)
		at ch.qos.logback.core.model.processor.ImplicitModelHandler.postHandleComplex(ImplicitModelHandler.java:207)
		at ch.qos.logback.core.model.processor.ImplicitModelHandler.postHandle(ImplicitModelHandler.java:186)
		at ch.qos.logback.core.model.processor.DefaultProcessor.secondPhaseTraverse(DefaultProcessor.java:257)
		at ch.qos.logback.core.model.processor.DefaultProcessor.secondPhaseTraverse(DefaultProcessor.java:253)
		at ch.qos.logback.core.model.processor.DefaultProcessor.secondPhaseTraverse(DefaultProcessor.java:253)
		at ch.qos.logback.core.model.processor.DefaultProcessor.traversalLoop(DefaultProcessor.java:90)
		at ch.qos.logback.core.model.processor.DefaultProcessor.process(DefaultProcessor.java:106)
		at ch.qos.logback.core.joran.GenericXMLConfigurator.processModel(GenericXMLConfigurator.java:222)
		at org.springframework.boot.logging.logback.SpringBootJoranConfigurator.processModel(SpringBootJoranConfigurator.java:136)
		at ch.qos.logback.core.joran.GenericXMLConfigurator.doConfigure(GenericXMLConfigurator.java:178)
		at ch.qos.logback.core.joran.GenericXMLConfigurator.doConfigure(GenericXMLConfigurator.java:123)
		at ch.qos.logback.core.joran.GenericXMLConfigurator.doConfigure(GenericXMLConfigurator.java:66)
		at org.springframework.boot.logging.logback.LogbackLoggingSystem.configureByResourceUrl(LogbackLoggingSystem.java:298)
		at org.springframework.boot.logging.logback.LogbackLoggingSystem.lambda$loadConfiguration$2(LogbackLoggingSystem.java:260)
		at org.springframework.boot.logging.logback.LogbackLoggingSystem.withLoggingSuppressed(LogbackLoggingSystem.java:481)
		at org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:252)
		... 23 common frames omitted
2025-06-17 11:19:05,271 INFO o.s.b.StartupInfoLogger [main] Starting TeebayApplication using Java 21.0.1 with PID 2560 (E:\Teebay\teebay-backend\target\classes started by Alvi in E:\teebay)
2025-06-17 11:19:05,281 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-06-17 11:19:19,946 INFO o.s.b.StartupInfoLogger [main] Started TeebayApplication in 16.869 seconds (process running for 17.521)
2025-06-17 11:19:19,958 INFO c.s.t.C.DatabaseSchemaInitializer [main] Applying custom database schema changes...
2025-06-17 11:19:19,959 INFO c.s.t.C.DatabaseSchemaInitializer [main] Executing SQL: CREATE EXTENSION IF NOT EXISTS btree_gist;
2025-06-17 11:19:19,967 INFO c.s.t.C.DatabaseSchemaInitializer [main] Executing SQL: DO $$ BEGIN IF NOT EXISTS (SELECT 1 FROM information_schema.columns WHERE table_schema = 'teebays' AND table_name = 'rent_bookings' AND column_name = 'period') THEN EXECUTE 'ALTER TABLE teebays.rent_bookings ADD COLUMN period tsrange GENERATED ALWAYS AS (tsrange(rent_start_time, rent_end_time, ''[]'')) STORED'; END IF; END $$;
2025-06-17 11:19:19,994 INFO c.s.t.C.DatabaseSchemaInitializer [main] Executing SQL: DO $$ BEGIN IF NOT EXISTS (SELECT 1 FROM pg_class c JOIN pg_namespace n ON n.oid = c.relnamespace WHERE c.relname = 'idx_rent_bookings_period' AND n.nspname = 'teebays') THEN EXECUTE 'CREATE INDEX idx_rent_bookings_period ON teebays.rent_bookings USING GIST (product_id, period)'; END IF; END $$;
2025-06-17 11:19:19,996 INFO c.s.t.C.DatabaseSchemaInitializer [main] Executing SQL: DO $$ BEGIN IF NOT EXISTS (SELECT 1 FROM pg_constraint WHERE conname = 'no_overlapping_bookings') THEN EXECUTE 'ALTER TABLE teebays.rent_bookings ADD CONSTRAINT no_overlapping_bookings EXCLUDE USING GIST (product_id WITH =, period WITH &&)'; END IF; END $$;
2025-06-17 11:19:20,005 INFO c.s.t.C.DatabaseSchemaInitializer [main] Custom database schema changes applied successfully.
2025-06-17 11:20:44,637 INFO c.s.t.f.JwtRequestFilter [http-nio-8082-exec-5] Inside jwt filer 
2025-06-17 11:20:44,657 INFO c.s.t.f.JwtRequestFilter [http-nio-8082-exec-8] Inside jwt filer 
2025-06-17 11:20:44,658 INFO c.s.t.f.JwtRequestFilter [http-nio-8082-exec-8] After login mutation in jwt filer 
2025-06-17 11:20:44,702 INFO c.s.t.s.JwtUserDetailsService [http-nio-8082-exec-8] Username in loadUserByUsername method: nantu@gmail.com
2025-06-17 11:20:44,947 INFO c.s.t.s.ProductService [http-nio-8082-exec-8] Fetched 0 products for user ID: 10
2025-06-17 11:20:45,777 INFO c.s.t.f.JwtRequestFilter [http-nio-8082-exec-4] Inside jwt filer 
2025-06-17 11:20:45,778 INFO c.s.t.f.JwtRequestFilter [http-nio-8082-exec-4] After login mutation in jwt filer 
2025-06-17 11:20:45,781 INFO c.s.t.s.JwtUserDetailsService [http-nio-8082-exec-4] Username in loadUserByUsername method: nantu@gmail.com
2025-06-17 11:20:45,794 INFO c.s.t.s.ProductService [http-nio-8082-exec-4] Fetching all products by status: AVAILABLE and RENTED, page: 0, size: 10
2025-06-17 11:20:45,831 INFO c.s.t.s.ProductService [http-nio-8082-exec-4] Fetched 9 products by status
2025-06-17 11:20:49,082 INFO c.s.t.f.JwtRequestFilter [http-nio-8082-exec-9] Inside jwt filer 
2025-06-17 11:20:49,082 INFO c.s.t.f.JwtRequestFilter [http-nio-8082-exec-9] After login mutation in jwt filer 
2025-06-17 11:20:49,084 INFO c.s.t.s.JwtUserDetailsService [http-nio-8082-exec-9] Username in loadUserByUsername method: nantu@gmail.com
2025-06-17 11:20:49,100 INFO c.s.t.s.ProductService [http-nio-8082-exec-9] Fetching bought products, page: 0, size: 10
2025-06-17 11:20:49,117 INFO c.s.t.s.ProductService [http-nio-8082-exec-9] User nantu@gmail.com has bought 0 products
2025-06-17 11:20:50,526 INFO c.s.t.f.JwtRequestFilter [http-nio-8082-exec-1] Inside jwt filer 
2025-06-17 11:20:50,531 INFO c.s.t.f.JwtRequestFilter [http-nio-8082-exec-2] Inside jwt filer 
2025-06-17 11:20:50,532 INFO c.s.t.f.JwtRequestFilter [http-nio-8082-exec-2] After login mutation in jwt filer 
2025-06-17 11:20:50,533 INFO c.s.t.s.JwtUserDetailsService [http-nio-8082-exec-2] Username in loadUserByUsername method: nantu@gmail.com
2025-06-17 11:20:50,542 INFO c.s.t.s.ProductService [http-nio-8082-exec-2] Fetching all products by status: AVAILABLE and RENTED, page: 0, size: 10
2025-06-17 11:20:50,560 INFO c.s.t.s.ProductService [http-nio-8082-exec-2] Fetched 9 products by status
2025-06-17 11:22:01 INFO  com.shazam.teebay.TeebayApplication [main] - Starting TeebayApplication using Java 21.0.1 with PID 19912 (E:\Teebay\teebay-backend\target\classes started by Alvi in E:\teebay)
2025-06-17 11:22:01 INFO  com.shazam.teebay.TeebayApplication [main] - No active profile set, falling back to 1 default profile: "default"
2025-06-17 11:22:15 INFO  com.shazam.teebay.TeebayApplication [main] - Started TeebayApplication in 14.886 seconds (process running for 15.367)
2025-06-17 11:22:15 INFO  c.s.t.C.DatabaseSchemaInitializer [main] - Applying custom database schema changes...
2025-06-17 11:22:15 INFO  c.s.t.C.DatabaseSchemaInitializer [main] - Executing SQL: CREATE EXTENSION IF NOT EXISTS btree_gist;
2025-06-17 11:22:15 INFO  c.s.t.C.DatabaseSchemaInitializer [main] - Executing SQL: DO $$ BEGIN IF NOT EXISTS (SELECT 1 FROM information_schema.columns WHERE table_schema = 'teebays' AND table_name = 'rent_bookings' AND column_name = 'period') THEN EXECUTE 'ALTER TABLE teebays.rent_bookings ADD COLUMN period tsrange GENERATED ALWAYS AS (tsrange(rent_start_time, rent_end_time, ''[]'')) STORED'; END IF; END $$;
2025-06-17 11:22:15 INFO  c.s.t.C.DatabaseSchemaInitializer [main] - Executing SQL: DO $$ BEGIN IF NOT EXISTS (SELECT 1 FROM pg_class c JOIN pg_namespace n ON n.oid = c.relnamespace WHERE c.relname = 'idx_rent_bookings_period' AND n.nspname = 'teebays') THEN EXECUTE 'CREATE INDEX idx_rent_bookings_period ON teebays.rent_bookings USING GIST (product_id, period)'; END IF; END $$;
2025-06-17 11:22:15 INFO  c.s.t.C.DatabaseSchemaInitializer [main] - Executing SQL: DO $$ BEGIN IF NOT EXISTS (SELECT 1 FROM pg_constraint WHERE conname = 'no_overlapping_bookings') THEN EXECUTE 'ALTER TABLE teebays.rent_bookings ADD CONSTRAINT no_overlapping_bookings EXCLUDE USING GIST (product_id WITH =, period WITH &&)'; END IF; END $$;
2025-06-17 11:22:15 INFO  c.s.t.C.DatabaseSchemaInitializer [main] - Custom database schema changes applied successfully.
2025-06-17 11:22:29 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-1] - Inside jwt filer 
2025-06-17 11:22:29 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-2] - Inside jwt filer 
2025-06-17 11:22:29 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-2] - After login mutation in jwt filer 
2025-06-17 11:22:29 INFO  c.s.t.service.JwtUserDetailsService [http-nio-8082-exec-2] - Username in loadUserByUsername method: nantu@gmail.com
2025-06-17 11:22:29 INFO  c.s.teebay.service.ProductService [http-nio-8082-exec-2] - Fetched 0 products for user ID: 10
2025-06-17 11:22:30 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-3] - Inside jwt filer 
2025-06-17 11:22:30 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-3] - After login mutation in jwt filer 
2025-06-17 11:22:30 INFO  c.s.t.service.JwtUserDetailsService [http-nio-8082-exec-3] - Username in loadUserByUsername method: nantu@gmail.com
2025-06-17 11:22:30 INFO  c.s.teebay.service.ProductService [http-nio-8082-exec-3] - Fetching all products by status: AVAILABLE and RENTED, page: 0, size: 10
2025-06-17 11:22:30 INFO  c.s.teebay.service.ProductService [http-nio-8082-exec-3] - Fetched 9 products by status
2025-06-17 12:41:47 INFO  com.shazam.teebay.TeebayApplication [main] - Starting TeebayApplication using Java 21.0.1 with PID 14992 (E:\Teebay\teebay-backend\target\classes started by Alvi in E:\teebay)
2025-06-17 12:41:47 INFO  com.shazam.teebay.TeebayApplication [main] - No active profile set, falling back to 1 default profile: "default"
2025-06-17 12:41:55 INFO  com.shazam.teebay.TeebayApplication [main] - Started TeebayApplication in 8.334 seconds (process running for 12.322)
2025-06-17 12:41:55 INFO  c.s.t.C.DatabaseSchemaInitializer [main] - Applying custom database schema changes...
2025-06-17 12:41:55 INFO  c.s.t.C.DatabaseSchemaInitializer [main] - Executing SQL: CREATE EXTENSION IF NOT EXISTS btree_gist;
2025-06-17 12:41:55 INFO  c.s.t.C.DatabaseSchemaInitializer [main] - Executing SQL: DO $$ BEGIN IF NOT EXISTS (SELECT 1 FROM information_schema.columns WHERE table_schema = 'teebays' AND table_name = 'rent_bookings' AND column_name = 'period') THEN EXECUTE 'ALTER TABLE teebays.rent_bookings ADD COLUMN period tsrange GENERATED ALWAYS AS (tsrange(rent_start_time, rent_end_time, ''[]'')) STORED'; END IF; END $$;
2025-06-17 12:41:55 INFO  c.s.t.C.DatabaseSchemaInitializer [main] - Executing SQL: DO $$ BEGIN IF NOT EXISTS (SELECT 1 FROM pg_class c JOIN pg_namespace n ON n.oid = c.relnamespace WHERE c.relname = 'idx_rent_bookings_period' AND n.nspname = 'teebays') THEN EXECUTE 'CREATE INDEX idx_rent_bookings_period ON teebays.rent_bookings USING GIST (product_id, period)'; END IF; END $$;
2025-06-17 12:41:55 INFO  c.s.t.C.DatabaseSchemaInitializer [main] - Executing SQL: DO $$ BEGIN IF NOT EXISTS (SELECT 1 FROM pg_constraint WHERE conname = 'no_overlapping_bookings') THEN EXECUTE 'ALTER TABLE teebays.rent_bookings ADD CONSTRAINT no_overlapping_bookings EXCLUDE USING GIST (product_id WITH =, period WITH &&)'; END IF; END $$;
2025-06-17 12:41:55 INFO  c.s.t.C.DatabaseSchemaInitializer [main] - Custom database schema changes applied successfully.
2025-06-17 12:53:15 INFO  com.shazam.teebay.TeebayApplication [main] - Starting TeebayApplication using Java 21.0.1 with PID 12792 (E:\Teebay\teebay-backend\target\classes started by Alvi in E:\teebay)
2025-06-17 12:53:15 INFO  com.shazam.teebay.TeebayApplication [main] - No active profile set, falling back to 1 default profile: "default"
2025-06-17 12:53:22 INFO  com.shazam.teebay.TeebayApplication [main] - Started TeebayApplication in 7.514 seconds (process running for 7.97)
2025-06-17 12:53:22 INFO  c.s.t.C.DatabaseSchemaInitializer [main] - Applying custom database schema changes...
2025-06-17 12:53:22 INFO  c.s.t.C.DatabaseSchemaInitializer [main] - Executing SQL: CREATE EXTENSION IF NOT EXISTS btree_gist;
2025-06-17 12:53:22 INFO  c.s.t.C.DatabaseSchemaInitializer [main] - Executing SQL: DO $$ BEGIN IF NOT EXISTS (SELECT 1 FROM information_schema.columns WHERE table_schema = 'teebays' AND table_name = 'rent_bookings' AND column_name = 'period') THEN EXECUTE 'ALTER TABLE teebays.rent_bookings ADD COLUMN period tsrange GENERATED ALWAYS AS (tsrange(rent_start_time, rent_end_time, ''[]'')) STORED'; END IF; END $$;
2025-06-17 12:53:22 INFO  c.s.t.C.DatabaseSchemaInitializer [main] - Executing SQL: DO $$ BEGIN IF NOT EXISTS (SELECT 1 FROM pg_class c JOIN pg_namespace n ON n.oid = c.relnamespace WHERE c.relname = 'idx_rent_bookings_period' AND n.nspname = 'teebays') THEN EXECUTE 'CREATE INDEX idx_rent_bookings_period ON teebays.rent_bookings USING GIST (product_id, period)'; END IF; END $$;
2025-06-17 12:53:22 INFO  c.s.t.C.DatabaseSchemaInitializer [main] - Executing SQL: DO $$ BEGIN IF NOT EXISTS (SELECT 1 FROM pg_constraint WHERE conname = 'no_overlapping_bookings') THEN EXECUTE 'ALTER TABLE teebays.rent_bookings ADD CONSTRAINT no_overlapping_bookings EXCLUDE USING GIST (product_id WITH =, period WITH &&)'; END IF; END $$;
2025-06-17 12:53:22 INFO  c.s.t.C.DatabaseSchemaInitializer [main] - Custom database schema changes applied successfully.
2025-06-17 12:53:39 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-1] - Inside jwt filer 
2025-06-17 12:53:39 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-2] - Inside jwt filer 
2025-06-17 12:53:39 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-2] - After login mutation in jwt filer 
2025-06-17 12:53:39 INFO  c.s.t.service.JwtUserDetailsService [http-nio-8082-exec-2] - Username in loadUserByUsername method: nantu@gmail.com
2025-06-17 12:53:40 INFO  c.s.teebay.service.ProductService [http-nio-8082-exec-2] - Fetched 0 products for user ID: 10
2025-06-17 12:53:40 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-3] - Inside jwt filer 
2025-06-17 12:53:40 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-3] - After login mutation in jwt filer 
2025-06-17 12:53:40 INFO  c.s.t.service.JwtUserDetailsService [http-nio-8082-exec-3] - Username in loadUserByUsername method: nantu@gmail.com
2025-06-17 12:53:40 INFO  c.s.teebay.service.ProductService [http-nio-8082-exec-3] - Fetching all products by status: AVAILABLE and RENTED, page: 0, size: 10
2025-06-17 12:53:40 INFO  c.s.teebay.service.ProductService [http-nio-8082-exec-3] - Fetched 9 products by status
2025-06-17 12:53:41 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-4] - Inside jwt filer 
2025-06-17 12:53:41 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-4] - After login mutation in jwt filer 
2025-06-17 12:53:41 INFO  c.s.t.service.JwtUserDetailsService [http-nio-8082-exec-4] - Username in loadUserByUsername method: nantu@gmail.com
2025-06-17 12:53:41 INFO  c.s.teebay.service.ProductService [http-nio-8082-exec-4] - Fetched 0 products for user ID: 10
2025-06-17 12:53:42 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-5] - Inside jwt filer 
2025-06-17 12:53:42 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-5] - After login mutation in jwt filer 
2025-06-17 12:53:42 INFO  c.s.t.service.JwtUserDetailsService [http-nio-8082-exec-5] - Username in loadUserByUsername method: nantu@gmail.com
2025-06-17 12:53:42 INFO  c.s.teebay.service.ProductService [http-nio-8082-exec-5] - Fetching bought products, page: 0, size: 10
2025-06-17 12:53:42 INFO  c.s.teebay.service.ProductService [http-nio-8082-exec-5] - User nantu@gmail.com has bought 0 products
2025-06-17 12:53:43 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-6] - Inside jwt filer 
2025-06-17 12:53:43 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-6] - After login mutation in jwt filer 
2025-06-17 12:53:43 INFO  c.s.t.service.JwtUserDetailsService [http-nio-8082-exec-6] - Username in loadUserByUsername method: nantu@gmail.com
2025-06-17 12:53:43 INFO  c.s.teebay.service.ProductService [http-nio-8082-exec-6] - Fetching all products by status: AVAILABLE and RENTED, page: 0, size: 10
2025-06-17 12:53:43 INFO  c.s.teebay.service.ProductService [http-nio-8082-exec-6] - Fetched 9 products by status
2025-06-17 12:53:46 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-7] - Inside jwt filer 
2025-06-17 12:53:46 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-8] - Inside jwt filer 
2025-06-17 12:53:46 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-8] - After login mutation in jwt filer 
2025-06-17 12:53:46 INFO  c.s.t.service.JwtUserDetailsService [http-nio-8082-exec-8] - Username in loadUserByUsername method: nantu@gmail.com
2025-06-17 12:53:46 INFO  c.s.teebay.service.ProductService [http-nio-8082-exec-8] - Fetched 0 products for user ID: 10
2025-06-17 12:53:47 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-9] - Inside jwt filer 
2025-06-17 12:53:47 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-9] - After login mutation in jwt filer 
2025-06-17 12:53:47 INFO  c.s.t.service.JwtUserDetailsService [http-nio-8082-exec-9] - Username in loadUserByUsername method: nantu@gmail.com
2025-06-17 12:53:47 INFO  c.s.teebay.service.ProductService [http-nio-8082-exec-9] - Fetching bought products, page: 0, size: 10
2025-06-17 12:53:47 INFO  c.s.teebay.service.ProductService [http-nio-8082-exec-9] - User nantu@gmail.com has bought 0 products
2025-06-17 12:53:48 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-10] - Inside jwt filer 
2025-06-17 12:53:48 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-10] - After login mutation in jwt filer 
2025-06-17 12:53:48 INFO  c.s.t.service.JwtUserDetailsService [http-nio-8082-exec-10] - Username in loadUserByUsername method: nantu@gmail.com
2025-06-17 12:53:48 INFO  c.s.teebay.service.ProductService [http-nio-8082-exec-10] - Fetching all products by status: AVAILABLE and RENTED, page: 0, size: 10
2025-06-17 12:53:48 INFO  c.s.teebay.service.ProductService [http-nio-8082-exec-10] - Fetched 9 products by status
2025-06-17 12:54:01 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-1] - Inside jwt filer 
2025-06-17 12:54:01 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-2] - Inside jwt filer 
2025-06-17 12:54:01 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-2] - After login mutation in jwt filer 
2025-06-17 12:54:01 INFO  c.s.t.service.JwtUserDetailsService [http-nio-8082-exec-2] - Username in loadUserByUsername method: nantu@gmail.com
2025-06-17 12:54:01 INFO  c.s.teebay.service.ProductService [http-nio-8082-exec-2] - Fetching all products by status: AVAILABLE and RENTED, page: 0, size: 10
2025-06-17 12:54:01 INFO  c.s.teebay.service.ProductService [http-nio-8082-exec-2] - Fetched 9 products by status
2025-06-17 12:54:02 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-3] - Inside jwt filer 
2025-06-17 12:54:02 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-3] - After login mutation in jwt filer 
2025-06-17 12:54:02 INFO  c.s.t.service.JwtUserDetailsService [http-nio-8082-exec-3] - Username in loadUserByUsername method: nantu@gmail.com
2025-06-17 12:54:02 INFO  c.s.teebay.service.ProductService [http-nio-8082-exec-3] - Fetched 0 products for user ID: 10
2025-06-17 12:54:03 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-4] - Inside jwt filer 
2025-06-17 12:54:03 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-4] - After login mutation in jwt filer 
2025-06-17 12:54:03 INFO  c.s.t.service.JwtUserDetailsService [http-nio-8082-exec-4] - Username in loadUserByUsername method: nantu@gmail.com
2025-06-17 12:54:03 INFO  c.s.teebay.service.ProductService [http-nio-8082-exec-4] - Fetching all products by status: AVAILABLE and RENTED, page: 0, size: 10
2025-06-17 12:54:03 INFO  c.s.teebay.service.ProductService [http-nio-8082-exec-4] - Fetched 9 products by status
2025-06-17 13:05:37 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-6] - Inside jwt filer 
2025-06-17 13:05:37 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-7] - Inside jwt filer 
2025-06-17 13:05:37 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-7] - After login mutation in jwt filer 
2025-06-17 13:05:37 INFO  c.s.t.service.JwtUserDetailsService [http-nio-8082-exec-7] - Username in loadUserByUsername method: nantu@gmail.com
2025-06-17 13:05:37 INFO  c.s.teebay.service.ProductService [http-nio-8082-exec-7] - Fetched 0 products for user ID: 10
2025-06-17 13:05:37 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-8] - Inside jwt filer 
2025-06-17 13:05:37 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-8] - After login mutation in jwt filer 
2025-06-17 13:05:37 INFO  c.s.t.service.JwtUserDetailsService [http-nio-8082-exec-8] - Username in loadUserByUsername method: nantu@gmail.com
2025-06-17 13:05:37 INFO  c.s.teebay.service.ProductService [http-nio-8082-exec-8] - Fetching bought products, page: 0, size: 10
2025-06-17 13:05:37 INFO  c.s.teebay.service.ProductService [http-nio-8082-exec-8] - User nantu@gmail.com has bought 0 products
2025-06-17 13:05:39 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-9] - Inside jwt filer 
2025-06-17 13:05:39 INFO  c.s.teebay.filter.JwtRequestFilter [http-nio-8082-exec-9] - After login mutation in jwt filer 
2025-06-17 13:05:39 INFO  c.s.t.service.JwtUserDetailsService [http-nio-8082-exec-9] - Username in loadUserByUsername method: nantu@gmail.com
2025-06-17 13:05:39 INFO  c.s.teebay.service.ProductService [http-nio-8082-exec-9] - Fetching all products by status: AVAILABLE and RENTED, page: 0, size: 10
2025-06-17 13:05:39 INFO  c.s.teebay.service.ProductService [http-nio-8082-exec-9] - Fetched 9 products by status
2025-06-17 15:10:59 INFO  com.shazam.teebay.TeebayApplication [main] - Starting TeebayApplication using Java 21.0.1 with PID 17744 (E:\Teebay\teebay-backend\target\classes started by Alvi in E:\teebay)
2025-06-17 15:10:59 INFO  com.shazam.teebay.TeebayApplication [main] - No active profile set, falling back to 1 default profile: "default"
2025-06-17 15:11:14 INFO  com.shazam.teebay.TeebayApplication [main] - Started TeebayApplication in 16.641 seconds (process running for 19.657)
2025-06-17 15:11:14 INFO  c.s.t.C.DatabaseSchemaInitializer [main] - Applying custom database schema changes...
2025-06-17 15:11:14 INFO  c.s.t.C.DatabaseSchemaInitializer [main] - Executing SQL: CREATE EXTENSION IF NOT EXISTS btree_gist;
2025-06-17 15:11:14 INFO  c.s.t.C.DatabaseSchemaInitializer [main] - Executing SQL: DO $$ BEGIN IF NOT EXISTS (SELECT 1 FROM information_schema.columns WHERE table_schema = 'teebays' AND table_name = 'rent_bookings' AND column_name = 'period') THEN EXECUTE 'ALTER TABLE teebays.rent_bookings ADD COLUMN period tsrange GENERATED ALWAYS AS (tsrange(rent_start_time, rent_end_time, ''[]'')) STORED'; END IF; END $$;
2025-06-17 15:11:14 INFO  c.s.t.C.DatabaseSchemaInitializer [main] - Executing SQL: DO $$ BEGIN IF NOT EXISTS (SELECT 1 FROM pg_class c JOIN pg_namespace n ON n.oid = c.relnamespace WHERE c.relname = 'idx_rent_bookings_period' AND n.nspname = 'teebays') THEN EXECUTE 'CREATE INDEX idx_rent_bookings_period ON teebays.rent_bookings USING GIST (product_id, period)'; END IF; END $$;
2025-06-17 15:11:14 INFO  c.s.t.C.DatabaseSchemaInitializer [main] - Executing SQL: DO $$ BEGIN IF NOT EXISTS (SELECT 1 FROM pg_constraint WHERE conname = 'no_overlapping_bookings') THEN EXECUTE 'ALTER TABLE teebays.rent_bookings ADD CONSTRAINT no_overlapping_bookings EXCLUDE USING GIST (product_id WITH =, period WITH &&)'; END IF; END $$;
2025-06-17 15:11:14 INFO  c.s.t.C.DatabaseSchemaInitializer [main] - Custom database schema changes applied successfully.
